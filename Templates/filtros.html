<!DOCTYPE html>

<html lang="en">

{% include "head.html" %}

<script src="/static/js/filtro.js"></script>

<body ng-app="App">

<div class="container" ng-controller="Controller">

<div id="eliminar" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <div class="modal-content">

      <div class="modal-header">
      <button type="button" class="close" data-dismiss="modal">&times;</button>
      <h4 class="modal-title">Eliminar filtro</h4>
      </div>

      <div class="modal-body">

      <div class ='row'>

      <div class="col-md-3">
     
      <h4>Desea eliminar filtro :</h4>

      </div>

      <div class="col-md-9">
 
       <table class="table table-striped table-condensed table-hover table-bordered ">
                      <tbody>

                      <thead>
                          <tr>
                        
                          <th >Ciudad </th>
                          <th >Segmento </th>   
                          <th >Grupo </th> 
                          
                          
                          </tr>
                      </thead>
                       
                      <tr>
                          
                
                  
                      <td>{[{model.ciudad}]}</td>
                      <td>{[{model.segmento}]}</td>
                      <td>{[{model.grupo}]}</td>
                     
                      
                  

                      </tr>


                      </tbody>
                  </table>

            </div>

          </div>

      </div>

      <div class="modal-footer">
      <button class="btn" data-dismiss="modal">Cerrar</button>
      <button type="submit" ng-click="eliminarfiltro(model)" class="btn btn-primary">Eliminar</button>
      </div>
    </div>

  </div>
</div>

{% include "header.html" %}


<div class="row">
{% include "vertical.html" %}

<div class="col-sm-10">


          <div class="jumbotron">

            <div class="row">

          

              <div class="col-sm-6">
              
              <h2>Campa√±a  {{campania.nombre}} </h2>  
              </div>
              <div class="col-sm-6">
               <h2>Filtro </h2>
              </div>
              <div class="col-sm-6">
               <p>Supervisor : {{campania.supervisor.user.first_name}}</p>
              </div>
              <div class="col-sm-6">
               <p>Timbrados: {{campania.timbrados}}</p>
              </div>

            </div>
             
              
            </div>

            <h4>Selecionar parametros del filtro</h4>

            <div class='row'>

            <form ng-submit="filtrado(filtro)">

                <div class="col-sm-4">


                     <select class="form-control" id="myselection" multiple="true" ng-model="filtro.ciudad" ng-options="c.nombre for c in ciudad"></select>
                      <div class="form-group">
         
                       <label>Ciudades Seleccionadas</label>
                      <ul  ng-repeat="contact in filtro.ciudad">
                          <li>{[{contact.nombre}]}</li>
                      </ul>
                      </div>

                </div>

                  <div class="col-sm-4">

                        <select class="form-control" id="myselection" multiple="true" ng-model="filtro.segmento" ng-options="c.nombre for c in segmento"></select>
                        <div class="form-group">
           
                        <label>Segmentos Seleccionados</label>
                        <ul  ng-repeat="contact in filtro.segmento">
                            <li>{[{contact.nombre}]}</li>
                        </ul>

                        </div>

                    </div>
                   <div class="col-sm-4">

                         <select class="form-control" id="myselection" multiple="true" ng-model="filtro.grupo" ng-options="c.nombre for c in grupo"></select>
                        <div class="form-group">
           
                        <label>Segmentos Seleccionados</label>
                        <ul  ng-repeat="contact in filtro.grupo">
                            <li>{[{contact.nombre}]}</li>
                        </ul>
                        </div>

      

                   </div>


                <div class="col-sm-12">

                 <button class="btn btn-primary" type="submit">Agregar</button>

               </form>

                </div>
                


                

                <div class="col-sm-12">

      

                  <table class="table table-striped table-condensed table-hover table-bordered">
                      <tbody>

                      <thead>
                          <tr>
                        
                          <th >Status F / Ciudad </th>
                          <th >Status G / Segmento </th>   
                          <th >Status H / Grupo </th> 
                          <th >Fono por barrer</th>
                          <th >Fono sin exito </th> 
                          <th></th>
                          </tr>
                      </thead>
                       
                      <tr  ng-repeat="resultado in listafiltros " class='active' ts-repeat>
                          
                
                      
                      <td>{[{resultado.ciudad}]}</td>
                      <td>{[{resultado.segmento}]}</td>
                      <td>{[{resultado.grupo}]}</td>
                      <td>{[{resultado.cantidad}]}</td>
                      <td></td>
                      <td><a ng-click="eliminar(resultado,$index)" class="btn btn-primary" data-toggle="modal" data-target="#eliminar"><i class="icon-trash"></i> </a></td>

                      </tr>


                      </tbody>
                  </table>

                </div>

            </div>

            




    


</div>


</div>




</div>



</div>




<!---Modales-->




</body>



</html>
